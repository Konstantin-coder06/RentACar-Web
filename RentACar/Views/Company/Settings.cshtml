<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Company Profile Management</title>
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.1.0/fonts/remixicon.css" rel="stylesheet" />
    <link rel="stylesheet" href="~/css/companySettings.css" />
    <link rel="stylesheet" href="~/css/alert.css" />
    @model CompanyEditInfoViewModel
</head>
@{
    Layout = null;
}
<body>
    @if (!ViewData.ModelState.IsValid)
    {
        <div class="alert alert-danger">
            <ul>
                @foreach (var error in ViewData.ModelState.Values.SelectMany(v => v.Errors))
                {
                    <li>@error.ErrorMessage</li>
                }
            </ul>
        </div>
    }
    <div class="container">
        <div class="content-wrapper">
            <div class="main-content">
                <div class="profile-card">
                    <div class="profile-header">
                        <div class="profile-header-content">
                            <img src="https://res.cloudinary.com/dhibmotzx/image/upload/v1744532171/Screenshot_2025-04-13_111529_ios1q9.png" alt="Site Logo" class="profile-img">
                            <div>
                                <h2 class="profile-name">@Model.CompanyName</h2>
                                <p class="profile-subtitle">Luxury Vehicle Rental Services</p>
                            </div>
                        </div>
                        <div class="profile-actions">
                            <button class="action-btn">
                                <span>Edit Profile</span>
                            </button>
                        </div>
                    </div>

                    <div class="profile-body">
                        <div class="section-title">
                            Company Information
                            <button class="section-edit-btn" onclick="toggleEditForm('company-info-form')">
                                <span>✏️</span> Edit
                            </button>
                        </div>

                        <div class="info-grid">
                            <div class="info-item">
                                <div class="info-label">Company Name</div>
                                <div class="info-value">@Model.CompanyName</div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">Email</div>
                                <div class="info-value">@Model.CompanyEmail</div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">City</div>
                                <div class="info-value">@Model.CompanyCity</div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">Country</div>
                                <div class="info-value">@Model.CompanyCountry</div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">Address</div>
                                <div class="info-value">@Model.CompanyAddress</div>
                            </div>
                           
                        </div>
                        <form asp-action="EditCompanyInfo" asp-controller="Company" method="post">
                        <div id="company-info-form" class="edit-form">
                            <div class="form-group">
                                <label asp-for="CompanyName" class="form-label">Company Name</label>
                                <input asp-for="CompanyName" type="text" class="form-control">
                            </div>
                            <div class="form-group">
                                <label asp-for="CompanyDescription" class="form-label">Description</label>
                                <textarea asp-for="CompanyDescription" class="form-control textarea-control"></textarea>
                            </div>
                            <div class="form-group">
                                <label asp-for="CompanyEmail" class="form-label">Email</label>
                                <input asp-for="CompanyEmail" type="email" class="form-control">
                            </div>
                            <div class="form-group">
                                <label asp-for="CompanyCity" class="form-label">City</label>
                                <input asp-for="CompanyCity" type="text" class="form-control">
                            </div>
                            <div class="form-group">
                                <label asp-for="CompanyCountry" class="form-label">Country</label>
                                <input asp-for="CompanyCountry" type="text" class="form-control" >
                            </div>
                            <div class="form-group">
                                <label asp-for="CompanyAddress" class="form-label">Address</label>
                                <input asp-for="CompanyAddress"type="text" class="form-control">
                            </div>

                            <div class="form-actions">
                                <button class="btn btn-outline" onclick="toggleEditForm('company-info-form')">Cancel</button>
                                <button type="submit" class="btn btn-primary">Save Changes</button>
                            </div>
                        </div>
                        </form>
                        <div class="section-title" style="margin-top: 40px;">
                            Security Settings
                            <button class="section-edit-btn" onclick="toggleEditForm('security-form')">
                                <span>✏️</span> Edit
                            </button>
                        </div>            
                    </div>
                </div>


            </div>
        </div>
    </div>
    @Html.Partial("_Footer")
    
    <script>
        function toggleEditForm(formId) {
            const form = document.getElementById(formId);
            if (form.style.display === 'block') {
                form.style.display = 'none';
            } else {
                form.style.display = 'block';
            }
        }
    </script>
</body>
</html>